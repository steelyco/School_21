# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–∏–∑–∏–∏ —É–∑–ª–æ–≤.

üí° [–ù–∞–∂–º–∏ —Å—é–¥–∞](https://new.oprosso.net/p/4cb31ec3f47a4596bc758ea1861fb624), **—á—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –Ω–∞–º–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é –Ω–∞ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç**. –≠—Ç–æ –∞–Ω–æ–Ω–∏–º–Ω–æ –∏ –ø–æ–º–æ–∂–µ—Ç –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ —Å–¥–µ–ª–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ –ª—É—á—à–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–ø—Ä–æ—Å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞.

## Contents

1. [Chapter I](#chapter-i) 
2. [Chapter II](#chapter-ii) \
   2.1. [–£–¥–∞–ª–µ–Ω–Ω–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–∞ —á–µ—Ä–µ–∑ Ansible](#part-1-—É–¥–∞–ª–µ–Ω–Ω–æ–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ-—É–∑–ª–∞-—á–µ—Ä–µ–∑-ansible) \
   2.2. [Service Discovery](#part-2-service-discovery) 

## Chapter I

–ü—Ä–∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä–æ–º —É–∑–ª–µ –Ω–µ–≤–∞–∂–Ω–æ, –ø—Ä–æ–¥–∞–∫—à–µ–Ω —ç—Ç–æ –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–π —Å—Ç–µ–Ω–¥, –Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∞–º—É –º–∞—à–∏–Ω—É –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. –ö–∞–∫ —Ç—ã —É–∂–µ –∑–Ω–∞–µ—à—å, docker-–æ–±—Ä–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —É–∂–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–æ –≤—Å–µ –∂–µ –µ—Å—Ç—å —Ä—è–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–ª–∏ –ø—Ä–æ–≤–∏–∑–∏–∏ (provision). –í–æ-–ø–µ—Ä–≤—ã—Ö, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∞–º–æ–≥–æ docker –∏–ª–∏ git), —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∑–∞–≤–∏—Å—è—â–∞—è –æ—Ç —É–∑–ª–∞, –ø–µ—Ä–µ–Ω–æ—Å —Ñ–∞–π–ª–æ–≤ –∏ —Ç. –¥. –ò–º–µ–Ω–Ω–æ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è —Ç–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –º–Ω–æ–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —É–¥–∞–ª–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–∞—à–∏–Ω, –æ–¥–Ω–∏–º –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è–µ—Ç—Å—è **Ansible**.

–í –º–∏—Ä–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–∞—Å—Ç–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫, —á—Ç–æ —Å–µ—Ä–≤–∏—Å, –¥–æ—Å—Ç—É–ø–Ω—ã–π –ø–æ –æ–¥–Ω–æ–º—É IP-–∞–¥—Ä–µ—Å—É, –±—ã–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–º–µ—â–µ–Ω –Ω–∞ –¥—Ä—É–≥–æ–π. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –Ω–∞–∏–±–æ–ª–µ–µ –æ—Å—Ç—Ä–æ –≤—Å—Ç–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º–∞ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ —Å–≤—è–∑–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã. –≠—Ç—É –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç **Consul**, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–∏–π **Service Discovery*, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ —Å–≤—è–∑–∏.

## Chapter II

–ò—Ç–æ–≥–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç—á–µ—Ç —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–ø–∏—Å–∞–Ω–∏—è–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø—É–Ω–∫—Ç–æ–≤, –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏. –û—Ç—á–µ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ –≤–∏–¥–µ markdown-—Ñ–∞–π–ª–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src` —Å –∏–º–µ–Ω–µ–º `REPORT.MD`.

## Part 1. –£–¥–∞–ª–µ–Ω–Ω–æ–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–ª–∞ —á–µ—Ä–µ–∑ Ansible

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ —Ç–µ–±–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —É–∑–ª–∞ –¥–ª—è —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –º—É–ª—å—Ç–∏—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –ó–∞–¥–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é Vagrant —Ç—Ä–∏ –º–∞—à–∏–Ω—ã: manager, node01, node02. –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é shell-—Å–∫—Ä–∏–ø—Ç–æ–≤ docker –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—à–∏–Ω –Ω–∞ Vagrant! –ü—Ä–æ–∫–∏–Ω—É—Ç—å –ø–æ—Ä—Ç—ã node01 –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–∫–∞ –µ—â–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å manager –∫–∞–∫ —Ä–∞–±–æ—á—É—é —Å—Ç–∞–Ω—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ–º–æ—â—å –ø–æ Ansible –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö).
   - –ó–∞–π—Ç–∏ –Ω–∞ manager. 
   - –ù–∞ manager –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ node01 —á–µ—Ä–µ–∑ ssh –ø–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π —Å–µ—Ç–∏. 
   - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å ssh-–∫–ª—é—á –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ node01 –∏–∑ manager (–±–µ–∑ passphrase). 
   - –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ manager docker-compose —Ñ–∞–π–ª –∏ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤. (–ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–µ–∫—Ç –∏–∑ –ø–∞–ø–∫–∏ src –∏ docker-compose —Ñ–∞–π–ª –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≥–ª–∞–≤—ã. –ü–æ–º–æ—â—å –ø–æ ssh –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö.)
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ansible –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –∏ —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É ansible, –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ–∑–¥–∞—Ç—å inventory-—Ñ–∞–π–ª. 
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å ping –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ Ansible. 
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–æ–¥—É–ª—è –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ—Ç—á–µ—Ç.

3. –ù–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–ª–µ–π–±—É–∫ –¥–ª—è Ansible, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç apt update, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç docker, docker-compose, –∫–æ–ø–∏—Ä—É–µ—Ç compose-—Ñ–∞–π–ª –∏–∑ manager'–∞ –∏ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. 

4. –ü—Ä–æ–≥–Ω–∞—Ç—å –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ postman –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –æ–Ω–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ. –í –æ—Ç—á–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

5. –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∏ —Ä–æ–ª–∏: 
   - —Ä–æ–ª—å application –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ docker-compose;
   - apache —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π apache —Å–µ—Ä–≤–µ—Ä;
   - postgres —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç postgres, —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–µ–µ —Ç—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏. 
   - –ù–∞–∑–Ω–∞—á–∏—Ç—å –ø–µ—Ä–≤—É—é —Ä–æ–ª—å node01 –∏ –≤—Ç–æ—Ä—ã–µ –¥–≤–µ —Ä–æ–ª–∏ node02, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å postman-—Ç–µ—Å—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ postgres –∏ apache-—Å–µ—Ä–≤–µ—Ä–∞. –î–ª—è Apache –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è PostgreSQL, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏.

6. –°–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ñ–∞–π–ª—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫–µ `src\ansible01` –≤ –ª–∏—á–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

## Part 2. Service Discovery

–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥–µ–º –∫ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—é —Å–µ—Ä–≤–∏—Å–æ–≤. –í —ç—Ç–æ–π –≥–ª–∞–≤–µ —Ç–µ–±–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å—ã–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–≤–∞ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ ‚Äî api –∏ –ë–î, –∏ –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Service Discovery —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Consul.

### –ó–∞–¥–∞–Ω–∏–µ

1. –ù–∞–ø–∏—Å–∞—Ç—å –¥–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ –¥–ª—è consul (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ consul –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö):
   - consul_server.hcl:
      - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≥–µ–Ω—Ç –∫–∞–∫ —Å–µ—Ä–≤–µ—Ä;
      - —É–∫–∞–∑–∞—Ç—å –≤ advertise_addr –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å Vagrant;
   - consul_client.hcl:
      - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≥–µ–Ω—Ç –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç;
      - —É–∫–∞–∑–∞—Ç—å –≤ advertise_addr –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–µ—Ç—å Vagrant.

2. –°–æ–∑–¥–∞—Ç—å —Å –ø–æ–º–æ—â—å—é Vagrant —á–µ—Ç—ã—Ä–µ –º–∞—à–∏–Ω—ã: consul_server, api, manager –∏ db.
   - –ü—Ä–æ–∫–∏–Ω—É—Ç—å –ø–æ—Ä—Ç 8082 —Å api –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–∫–∞ –µ—â–µ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–º—É api.
   - –ü—Ä–æ–∫–∏–Ω—É—Ç—å –ø–æ—Ä—Ç 8500 —Å consul_server –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ ui consul. 

3. –ù–∞–ø–∏—Å–∞—Ç—å –ø–ª–µ–π–±—É–∫ –¥–ª—è ansible –∏ —á–µ—Ç—ã—Ä–µ —Ä–æ–ª–∏: 
   - install_consul_server, –∫–æ—Ç–æ—Ä–∞—è:
      - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å consul_server;
      - –∫–æ–ø–∏—Ä—É–µ—Ç consul_server.hcl;
      - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç consul –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è consul –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏;
      - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å consul;
   - install_consul_client, –∫–æ—Ç–æ—Ä–∞—è:
      - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å api –∏ db;
      - –∫–æ–ø–∏—Ä—É–µ—Ç consul_client.hcl;
      - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç consul, envoy –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è consul –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏; 
      - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å consul –∏ consul-envoy;
   - install_db, –∫–æ—Ç–æ—Ä–∞—è:
      - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å db;
      - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç postgres –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ;
      - —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `hotels_db`;
   - install_hotels_service, –∫–æ—Ç–æ—Ä–∞—è:
      - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å api;
      - –∫–æ–ø–∏—Ä—É–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞;
      - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `openjdk-8-jdk`;
      - —Å–æ–∑–¥–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
         - POSTGRES_HOST="127.0.0.1";
         - POSTGRES_PORT="5432";
         - POSTGRES_DB="hotels_db";
         - POSTGRES_USER="<–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>";
         - POSTGRES_PASSWORD="<–ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è>";
      - –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–æ–±—Ä–∞–Ω–Ω—ã–π jar-—Ñ–∞–π–ª –∫–æ–º–∞–Ω–¥–æ–π `java -jar <–ø—É—Ç—å –¥–æ hotel-service>/hotel-service/target/<–∏–º—è jar-—Ñ–∞–π–ª–∞>.jar`.

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ —Å–µ—Ä–≤–∏—Å–æ–º –æ—Ç–µ–ª–µ–π. –í –æ—Ç—á–µ—Ç–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

5. –°–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ñ–∞–π–ª—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ –ø–∞–ø–∫–∞—Ö `src\ansible02` –∏ `src\consul01` –≤ –ª–∏—á–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.