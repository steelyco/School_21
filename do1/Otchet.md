## Part 1. Установка ОС

- Установил **OS Ubuntu 20.04 Server LTS** без графического интерфейса
- Программа для виртуализации — **VirtualBox ver. 7.1.8**
- Выполнил команду **`cat /etc/issue`**

![ ](screenshots/Pasted image 20250425103853.png)

## Part 2. Установка ОС

- Добавил нового пользователя - **`sudo adduser amir`**
- Добавил пользователя в группу adm - **`sudo usermod -aG adm amir`**
- Проверил, что пользователь добавлен в группу - **`groups amir`** 

![ ](screenshots/Pasted image 20250425104115.png)

- Вывел список пользователей - **`cat /etc/passwd`**  

![ ](screenshots/Pasted image 20250425104229.png)

## Part 3. Настройка сети ОС

- Поменял имя машины на steelyco-1 - **`hostnamectl set-hostname steelyco-1`**
	1. Проверил название хоста   
	![ ](screenshots/Pasted image 20250425104601.png)
	2. Переименовал  
	![ ](screenshots/Pasted image 20250425104651.png)
- Установил временную зону МСК - **`sudo timedatectl set-timezone Europe/Moscow`**  
![ ](screenshots/Pasted image 20250425104940.png)
- Вывел название сетевых интерфейсов - **`ip link show`** 
![ ](screenshots/Pasted image 20250425105419.png)
- Вывел ip адрес устройства от DHCP-сервера - **`sudo dhclient -v`** 
![ ](screenshots/Pasted image 20250425105516.png)
- Вывел внешний и внутренний ip адрес шлюза - **`curl ifconfig.me`**, **`ip route show`** 
![ ](screenshots/Pasted image 20250425105643.png)
- Задал статичные настройки ip, gw, dns: 
	1. Открыл с помощью редактора vim файл *`/etc/netplan/00-installer-config.yaml`* 
	
	![ ](screenshots/Pasted image 20250425110523.png)
	
	2. Сохранил и применил новые настройки сети - **`sudo netplan apply`**
	3. Перезагрузил виртуальную машину - **`reboot`**
	4. Проверил настройки сети: 
	
	![ ](screenshots/Pasted image 20250425111340.png)

- Перезагрузил и пропинговал удаленные хосты - **`ping 1.1.1.1`**, **`ping ya.ru`** 

![ ](screenshots/Pasted image 20250425111314.png)

- **Интерфейс lo** -  (loopback) присутствует на всех системах. Он используется для тестирования и диагностики сетевых приложений и служб на локальном компьютере.
- **Основные функции интерфейса lo:**
	1. Позволяет программам на одном и том же компьютере общаться друг с другом через сетевые протоколы, как если бы они находились на разных машинах.  
	2. Используется для тестирования сетевых приложений без необходимости подключения к внешней сети.
**Основные функции DHCP:**
- Автоматическое назначение IP-адресов: DHCP-сервер автоматически назначает IP-адреса устройствам, подключенным к сети.  
- Управление IP-адресами: DHCP-сервер отслеживает, какие IP-адреса уже назначены, и гарантирует, что каждый адрес уникален в пределах сети.  
- Обновление конфигурации: DHCP позволяет легко обновлять сетевые настройки устройств, например, при изменении DNS-серверов или шлюза.

**Преимущества использования DHCP:**
- Упрощение администрирования сети: Нет необходимости вручную настраивать каждый компьютер. 
- Гибкость: легко изменять сетевые параметры для всех устройств в сети. 
- Эффективное использование IP-адресов: DHCP-сервер может повторно использовать IP-адреса, которые больше не используются.

## Part 4. Обновление ОС

- Проверка обновления новых системных пакетов - **`sudo apt update`** 
![ ](screenshots/Pasted image 20250425112452.png)
- Обновление пакетов - **`sudo apt upgrate`** 
- Повторная проверка - **`sudo apt update`** 

![ ](screenshots/Pasted image 20250425112923.png)

## Part 5. Использование команды sudo

- Добавил пользователя в группу sudo - **`sudo usermod -aG sudo amir`** 

![ ](screenshots/Pasted image 20250425113618.png)

- Сменил пользователя командой sudo - **`sudo su - amir`** 

![ ](screenshots/Pasted image 20250425114612.png)

- Сменил *hostname* от пользователя *amir* созданного в *Part 2* - **`sudo hostnamectl sethostname amirserv`** 
![ ](screenshots/Pasted image 20250425114946.png)
- **Основные преимущества использования sudo:**
	- Безопасность: Вместо того чтобы постоянно работать под учетной записью root, пользователи могут временно получать привилегии суперпользователя только для выполнения конкретных команд. Это снижает риск случайных или вредоносных изменений в системе.
    
	- Аудит и контроль: Все команды, выполненные с использованием sudo, записываются в журнал, что позволяет администраторам отслеживать действия пользователей и выявлять потенциальные проблемы.
    
	- Гибкость: Администраторы могут настроить файл конфигурации /etc/sudoers, чтобы предоставить разные уровни доступа различным пользователям или группам пользователей.

## Part 6. Установка и настройка службы времени

- Вывел время часового пояса МСК - **`timedate`**, **`timedatectl`** 

![ ](screenshots/Pasted image 20250425115441.png)

## Part 7. Установка и использование текстовых редакторов

- Установил текстовые редакторы - **`sudo apt install vim`**, **`sudo apt install nano`**, **`sudo apt install joe`** 
![ ](screenshots/Pasted image 20250425115742.png)

- Создал три текстовых документа - **`touch`** 

![ ](screenshots/Pasted image 20250425120020.png)

- Для того чтобы выйти из редактора *vim* с сохранением использовал **`:wq`** 
![ ](screenshots/Pasted image 20250425120213.png)
-  Для того чтобы выйти из редактора *nano* с сохранением использовал **`CTRL+O`, `CTRL+X`** ![ ](screenshots/Pasted image 20250425120447.png)
- Для того чтобы выйти из редактора *joe* с сохранением использовал **`CTRL+K D`**, **`CTRL+K X`** ![ ](screenshots/Pasted image 20250425121025.png)
- Выход без сохранений *vim* - **`:q!`** 
![ ](screenshots/Pasted image 20250425121820.png)
- Выход без сохранений *nano* - **`CTRL+X`**, **`n`** 
![ ](screenshots/Pasted image 20250425121720.png)
- Выход без сохранений *joe* - **`CTRL+C`**, **`y`** 
![ ](screenshots/Pasted image 20250425121233.png)
- Поиск и замена *vim* - **`/`**,  **`:s/старое/новое`** 
![ ](screenshots/Pasted image 20250425123918.png)![ ](screenshots/Pasted image 20250425123744.png)
- Поиск и замена *nano* -  **`Ctrl+W`**, **`Ctrl+\`**, **`Y`**  
![ ](screenshots/Pasted image 20250425123415.png) 
![ ](screenshots/Pasted image 20250425123549.png)
- Поиск и замена *joe* - **`Ctrl+K F`**, **`R`**, **`Y`** 
![ ](screenshots/Pasted image 20250425122833.png) 
![ ](screenshots/Pasted image 20250425123100.png)

## Part 8. Установка и базовая настройка сервиса SSHD

- Установил службу SSHd - **`sudo apt install openssh-server`** 

![ ](screenshots/Pasted image 20250425125554.png)

- Добавил службу SSHd в автозагрузку - **`sudo systemctl enable ssh`** 

![ ](screenshots/Pasted image 20250425130947.png)

- Проверил автозагрузку - **`sudo systemctl is-enabled ssh`**  

![ ](screenshots/Pasted image 20250425131040.png)

- Перенастроил службу SSHd на порт 2022 в файле */etc/ssh/sshd_config* - **`sudo vim /etc/ssh/sshd_config`** 

![ ](screenshots/Pasted image 20250425132719.png)

- Применил настройку sshd - **sudo systemctl restart ssh**
- Используя команду **`ps`** отобразил наличие процесса *sshd* 

![ ](screenshots/Pasted image 20250425131831.png)

- Установил *net-tools*, чтобы заработала команда *netstat* - **`sudo apt install net-tools`** 
- Вывел команду **`netstat -tan`** 

![ ](screenshots/Pasted image 20250425132801.png)

- **Пояснение команды `ps` и ключей:**

	1. Команда **`ps`** отображает информацию о текущих процессах, запущенных на системе. Она позволяет получать информацию о процессах, таких как идентификатор процесса (PID), использование CPU и оперативной памяти, время работы и многое другое. 
	
	2.  **`a`** - ключ, который указывает команде **`ps`** отобразить процессы всех пользователей, а не только текущего пользователя. Это позволяет увидеть процессы, которые запущены другими пользователями системы. 
    
	3. **`u`** - ключ, который выводит более подробную информацию о процессах, включая имя пользователя, использующего процесс, и использование ресурсов (CPU и память).
    
	4. **`x`** - ключ, который показывает процессы, не привязанные к терминалу. Это полезно, чтобы увидеть все процессы, даже те, которые не находятся в интерактивных сеансах.
    
	5. **`grep sshd`** - это команда, которая фильтрует вывод предыдущей команды **`ps aux`**, выводя только те строки, которые содержат слово **`sshd`**. **`sshd`** - это демон SSH (Secure Shell), который отвечает за прием входящих SSH-соединений.
- **Команда `netstat`:** - это инструмент для мониторинга сетевых соединений на сервере:
	1. Разбор ключей **`-tan`** 
		- **`-t`**: Этот ключ указывает команде **`netstat`**, что нужно отображать только соединения протокола TCP. То есть, вы будете видеть только TCP-соединения, игнорируя другие протоколы (например, UDP). 
		- **`-a`**: Этот ключ сообщает **`netstat`** показать все соединения и сокеты, включая установленные соединения и прослушивающие порты. 
		- **`-n`**: Этот ключ заставляет **`netstat`** показывать адреса и порты в числовом формате, а не преобразовывать их в человеко-читаемые имена (например, вместо того, чтобы показывать доменные имена, будет отображаться IP-адрес).
	2. Значение каждого столбца: 
		- *Proto*: Протокол, используемый для соединения (например, TCP).
		- *Recv-Q*: Количество байтов, ожидающих чтения в очереди приёма. Если значение больше 0, это может указывать на то, что приложение не читает данные. 
		- *Send-Q*: Количество байтов, ожидающих отправки в очереди передачи. Значение больше 0 может указывать на проблемы с сетью или приёмником, принимающим данные. 
		- *Local Address*: Локальный адрес и порт, на которых ваше приложение слушает или с которым оно установило соединение. Например, **`0.0.0.0:22`** означает, что служба прослушивает на порту 22 на всех доступных интерфейсах.
		- *Foreign Address*: Адрес и порт удалённого соединения. Если соединение не активно, поле может содержать символ **`*`**.
		- *State*: Состояние соединения. Примеры состояний: - **`LISTEN`**: сокет ожидает входящие соединения. - **`ESTABLISHED`**: соединение активно и данные могут передаваться.
- **Значение `0.0.0.0`** - **`0.0.0.0`** в выводе указывает на то, что сервис принимает соединения на всех доступных сетевых интерфейсах. Это значит, что он будет принимать соединения не только с локального хоста, но и с любых удалённых адресов. Это часто используется для служб, которые должны быть доступны из любого места. 

## Part 9. Использование утилит top, htop

- Установил утилиту **`top`** и **`htop`** 

![ ](screenshots/Pasted image 20250425134323.png) 

![ ](screenshots/Pasted image 20250425134302.png)

- Вывод команды **`top`**: 
	1. Uptime - **`23 min`**
	2. Количество авторизованных пользователей - **`1 user`**
	3. Среднюю загрузку системы - **`0.00, 0.01, 0.00`**
	4. Общее количество процессов - **`119`**
	5. Загрузку cpu - **`0.0 us`** и **`0.0 sy`**
	6. Загрузку памяти - **`3919.4 total`**, **`173.6 used`**
	7. Pid процесса занимающего больше всего памяти - **`723`** - **`Shift + M`**
	8. Pid процесса, занимающего больше всего процессорного времени - **`1357`** 

	![ ](screenshots/Pasted image 20250425134745.png)

- Вывод команды **`htop`**: 

	1. **`PID`**: 
	![ ](screenshots/Pasted image 20250425135911.png)
	2. **`PERCENT_CPU`**: 
	![ ](screenshots/Pasted image 20250425140050.png)
	3. **`PERCENT_MEM`**: 
	![ ](screenshots/Pasted image 20250425140104.png)
	4. **`TIME`**: 
	![ ](screenshots/Pasted image 20250425140117.png)
	5. **`sshd`**: 
	![ ](screenshots/Pasted image 20250425140234.png)
	6. **`syslog`**: 
	![ ](screenshots/Pasted image 20250425140324.png)
	7. **`hostname, clock и uptime`**: 

	![ ](screenshots/Pasted image 20250425140625.png)


## Part 10. Использование утилиты fdisk

- Запустил команду **`fdisk -l`** 
![ ](screenshots/Pasted image 20250425140906.png)
- Название жесткого диска - *sda*
- Размер - *50 GB*
- Количество секторов - *104857600*
- Размер swap - *3,9 GB* - **`swapon`**

## Part 11. Использование утилиты df

- Запустил команду **`df`**: 

![ ](screenshots/Pasted image 20250425141826.png)

	1. Размер раздела - *24590672 KB*
	2. Размер занятого пространства - *6779076 KB*
	3. Размер свободного пространства - *16537128 KB*
	4. Процент использования - *30%*
- Запустил команду **`df -Th`**: 

![ ](screenshots/Pasted image 20250425141852.png)

	1. Размер раздела - *25 GB*
	2. Размер занятого пространства - *6.5 GB*
	3. Размер свободного пространства - *16 GB*
	4. Процент использования - *30%*
- Тип файловой системы - **`ext4`** 

## Part 12. Использование утилиты du

- Запустил команду **`du`** 

![ ](screenshots/Pasted image 20250425142604.png)

- Размер папок */home, /var, /var/log* в байтах 

![ ](screenshots/Pasted image 20250425143502.png)

- Размер папок */home, /var, /var/log* в человеческом виде 

![ ](screenshots/Pasted image 20250425143551.png)

-  Размер каждого файла в */var/log* 

![ ](screenshots/Pasted image 20250425143803.png)

## Part 13. Использование утилиты ncdu

- Установил *ncdu* - **`sudo apt install ncdu`** 
![ ](screenshots/Pasted image 20250425144114.png)
- Вывод папок */home, /var, /var/log* 
![ ](screenshots/Pasted image 20250425144233.png) 
![ ](screenshots/Pasted image 20250425144256.png) 
![ ](screenshots/Pasted image 20250425144313.png)

## Part 14. Работа с системными журналами

- */var/log/dmesg* 
![ ](screenshots/Pasted image 20250425150243.png)
- */var/log/syslog* 
До перезапуска **`sshd`** ![ ](screenshots/Pasted image 20250425145423.png)После перезапуска **`sshd`** 
![ ](screenshots/Pasted image 20250425145550.png)
- */var/log/auth.log* 

![ ](screenshots/Pasted image 20250425145723.png)

	1. Время успешной авторизации - Apr 25 15:56:57 
	2. Имя пользователя - amir
	3. Метод входа в систему - tty1

## Part 15. Использование планировщика заданий CRON

- Открыл и добавил команду *uptime* каждые две минуты в файл *crontab* 

![ ](screenshots/Pasted image 20250425150813.png)

- Вывод в логах то, что срабатывает *uptime* каждые две минуты 

![ ](screenshots/Pasted image 20250425151131.png) 